<Window x:Class="Gui.Views.RegexInputDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="正则表达式批量标记" Height="400" Width="550"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize">
    <Grid Margin="15">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- 说明 -->
        <TextBlock Grid.Row="0" TextWrapping="Wrap" Margin="0,0,0,15">
            <Run FontWeight="Bold">输入正则表达式来匹配需要标记为已翻译的字符串。</Run>
            <LineBreak/><LineBreak/>
            匹配的翻译项将被自动标记为已翻译状态。
        </TextBlock>

        <!-- 输入框 -->
        <StackPanel Grid.Row="1" Margin="0,0,0,15">
            <TextBlock Text="正则表达式:" FontWeight="Bold" Margin="0,0,0,5"/>
            <TextBox x:Name="RegexTextBox"
                     FontFamily="Consolas"
                     FontSize="13"
                     Padding="5"
                     Text="^\d+$"/>
        </StackPanel>

        <!-- 预设模式 -->
        <GroupBox Grid.Row="2" Header="常用正则模式" Margin="0,0,0,15">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <StackPanel>
                    <Button Content="命令: ^/.*$"
                            Tag="^/.*$"
                            Click="PresetButton_Click"
                            HorizontalAlignment="Stretch"
                            HorizontalContentAlignment="Left"
                            Margin="0,2"/>

                    <Button Content="单个字符: ^.$"
                            Tag="^.$"
                            Click="PresetButton_Click"
                            HorizontalAlignment="Stretch"
                            HorizontalContentAlignment="Left"
                            Margin="0,2"/>

                    <Button Content="纯符号: ^[!@#$%^&amp;*()_+\-=\[\]{};':&quot;\\|,&lt;&gt;./?]+$"
                            Tag="^[!@#$%^&amp;*()_+\-=\[\]{};':&quot;\\|,&lt;&gt;./?]+$"
                            Click="PresetButton_Click"
                            HorizontalAlignment="Stretch"
                            HorizontalContentAlignment="Left"
                            Margin="0,2"/>

                    <Button Content="空白字符: ^\s+$"
                            Tag="^\s+$"
                            Click="PresetButton_Click"
                            HorizontalAlignment="Stretch"
                            HorizontalContentAlignment="Left"
                            Margin="0,2"/>

                    <Button Content="以数字开头: ^\d"
                            Tag="^\d"
                            Click="PresetButton_Click"
                            HorizontalAlignment="Stretch"
                            HorizontalContentAlignment="Left"
                            Margin="0,2"/>

                    <Button Content="包含 'OK': .*OK.*"
                            Tag=".*OK.*"
                            Click="PresetButton_Click"
                            HorizontalAlignment="Stretch"
                            HorizontalContentAlignment="Left"
                            Margin="0,2"/>

                    <Button Content="URL格式: ^https?://"
                            Tag="^https?://"
                            Click="PresetButton_Click"
                            HorizontalAlignment="Stretch"
                            HorizontalContentAlignment="Left"
                            Margin="0,2"/>
                </StackPanel>
            </ScrollViewer>
        </GroupBox>

        <!-- 帮助文本 -->
        <TextBlock Grid.Row="3" TextWrapping="Wrap" FontSize="11" Foreground="Gray" Margin="0,0,0,15">
            <Run FontWeight="Bold">常用正则符号：</Run><LineBreak/>
            ^ 开始  $ 结束  . 任意字符  * 0或多次  + 1或多次  \d 数字  \s 空白  [abc] 字符集
        </TextBlock>

        <!-- 按钮 -->
        <StackPanel Grid.Row="4" Orientation="Horizontal" HorizontalAlignment="Right">
            <Button Content="确定"
                    Click="OkButton_Click"
                    IsDefault="True"
                    MinWidth="80"
                    Margin="0,0,10,0"
                    Padding="10,5"/>
            <Button Content="取消"
                    Click="CancelButton_Click"
                    IsCancel="True"
                    MinWidth="80"
                    Padding="10,5"/>
        </StackPanel>
    </Grid>
</Window>
